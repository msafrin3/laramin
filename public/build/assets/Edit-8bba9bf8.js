import{r as b,k as v,c,a,u as r,w as m,F as p,o as d,X as g,b as e,d as k,e as S,v as x,t as f,f as y,i as w,n as C,g as N,O as R}from"./app-5ddeb4cf.js";import V from"./ContentHeader-b774e2bd.js";import{_ as E}from"./AuthenticatedLayout-738a20d3.js";import{S as O}from"./sweetalert2.all-9a6cc583.js";import j from"./MyChoices-4afdccdb.js";import"./choices-7f0ec532.js";const B={class:"row justify-content-center"},M={class:"col-sm-4"},P={class:"card"},D=e("div",{class:"card-header"},[e("h3",{class:"card-title"},"Create New Role")],-1),F={class:"card-body"},G={class:"form-group"},T=e("label",{class:"form-label"},"Role Name",-1),A={key:0,class:"text-danger"},L={class:"form-group mt-3"},U=e("label",{class:"form-label"},"Select Permission(s)",-1),X=["value","selected"],q={class:"card-footer d-grid gap-2"},z=e("button",{type:"submit",class:"btn btn-success"},"Save",-1),Y={__name:"Edit",props:{errors:Object,role:Object,_permissions:Object},setup(i){const n=i,_=[{title:"Administrator",active:!0},{title:"Role management",active:!1,link:route("admin.role.index")},{title:"Create Role",active:!0}];let t=b({name:n.role.name,permissions:[]});v(()=>{n.role.permissions.forEach(function(s){t.permissions.push(s.id),$("#formCheck"+s.id).prop("checked",!0)}),console.log(t)});let u=()=>{R.put(route("admin.role.update",n.role),t,{onSuccess:s=>{s.props.response.success&&O.fire("Success!",s.props.response.succes,"success")}})},h=s=>{t.permissions=s};return n.role.permissions.forEach(function(s){t.permissions.push(s.id)}),(s,l)=>(d(),c(p,null,[a(r(g),{title:"Create Role"}),a(E,null,{default:m(()=>[a(V,{title:"Create Role",breadcrumbs:_}),e("div",B,[e("div",M,[e("div",P,[D,e("form",{onSubmit:l[1]||(l[1]=k((...o)=>r(u)&&r(u)(...o),["prevent"]))},[e("div",F,[e("div",G,[T,S(e("input",{type:"text",class:"form-control",placeholder:"Enter Role Name","onUpdate:modelValue":l[0]||(l[0]=o=>r(t).name=o)},null,512),[[x,r(t).name]]),i.errors.name?(d(),c("span",A,f(i.errors.name),1)):y("",!0)]),e("div",L,[U,a(j,{id:"selectpermission",placeholder:"Select Permission",type:"multiple",onGetValue:r(h)},{default:m(()=>[(d(!0),c(p,null,w(i._permissions,o=>(d(),c("option",{key:o.id,value:o.id,selected:r(t).permissions.includes(o.id)},f(o.name),9,X))),128))]),_:1},8,["onGetValue"])])]),e("div",q,[z,a(r(C),{href:s.route("admin.role.index"),class:"btn btn-light"},{default:m(()=>[N("Back")]),_:1},8,["href"])])],32)])])])]),_:1})],64))}};export{Y as default};
