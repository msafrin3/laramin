import{r as S,c as i,a as d,u as t,w as m,F as f,o as n,X as k,b as s,d as E,e as h,v as b,t as c,f as p,i as v,n as U,g as w,O as N}from"./app-f028f019.js";import{_ as O}from"./AuthenticatedLayout-e401d1a6.js";import j from"./ContentHeader-5afa99ad.js";import"./choices-04396e8d.js";import V from"./MyChoices-ef3356cf.js";import{S as C}from"./sweetalert2.all-7f06a01a.js";const B={class:"row justify-content-center"},G={class:"col-sm-4"},M={class:"card"},F=s("div",{class:"card-header"},[s("h3",{class:"card-title"},"Create User")],-1),P={class:"card-body"},R={class:"form-group mb-3"},$=s("label",null,"Name",-1),A={key:0,class:"text-danger"},D={class:"form-group mb-3"},T=s("label",null,"E-Mail",-1),L={key:0,class:"text-danger"},X={class:"form-group mb-3"},q=s("label",null,"Select Role(s)",-1),z=["value","selected"],H={key:0,class:"text-danger"},I={class:"form-group mb-3"},J=s("label",null,"Select Permission(s)",-1),K=["value","selected"],Q={key:0,class:"text-danger"},W={class:"card-footer d-grid gap-2"},Y=s("button",{type:"submit",class:"btn btn-success"},"Save",-1),le={__name:"Edit",props:{user:Object,roles:Object,permissions:Object,errors:Object},setup(l){const u=l,g=[{title:"Administrator",active:!0},{title:"User Management",active:!1,link:route("admin.user.index")},{title:"Edit User",active:!0}];let o=S({name:u.user.name,email:u.user.email,roles:[],permissions:[]}),_=()=>{N.put(route("admin.user.update",u.user),o,{onSuccess:r=>{r.props.response.success&&C.fire("Success",r.props.response.success,"success")}})},y=r=>{o.roles=r},x=r=>{o.permissions=r};return u.user.roles.forEach(function(r){o.roles.push(r.id)}),u.user.permissions.forEach(function(r){o.permissions.push(r.id)}),(r,a)=>(n(),i(f,null,[d(t(k),{title:"Create User"}),d(O,null,{default:m(()=>[d(j,{title:"Create User",breadcrumbs:g}),s("div",B,[s("div",G,[s("div",M,[s("form",{onSubmit:a[4]||(a[4]=E((...e)=>t(_)&&t(_)(...e),["prevent"]))},[F,s("div",P,[s("div",R,[$,h(s("input",{type:"text",class:"form-control",placeholder:"Enter Full Name","onUpdate:modelValue":a[0]||(a[0]=e=>t(o).name=e)},null,512),[[b,t(o).name]]),l.errors.name?(n(),i("span",A,c(l.errors.name),1)):p("",!0)]),s("div",D,[T,h(s("input",{type:"email",class:"form-control",placeholder:"Enter Email Address","onUpdate:modelValue":a[1]||(a[1]=e=>t(o).email=e)},null,512),[[b,t(o).email]]),l.errors.email?(n(),i("span",L,c(l.errors.email),1)):p("",!0)]),s("div",X,[q,d(V,{id:"selectrole",placeholder:"Select Role",type:"multiple",modelValue:t(o).roles,"onUpdate:modelValue":a[2]||(a[2]=e=>t(o).roles=e),onGetValue:t(y)},{default:m(()=>[(n(!0),i(f,null,v(l.roles,e=>(n(),i("option",{key:e.id,value:e.id,selected:t(o).roles.includes(e.id)},c(e.name),9,z))),128))]),_:1},8,["modelValue","onGetValue"]),l.errors.roles?(n(),i("span",H,c(l.errors.roles),1)):p("",!0)]),s("div",I,[J,d(V,{id:"selectperm",placeholder:"Select Permission",type:"multiple",modelValue:t(o).permissions,"onUpdate:modelValue":a[3]||(a[3]=e=>t(o).permissions=e),onGetValue:t(x)},{default:m(()=>[(n(!0),i(f,null,v(l.permissions,e=>(n(),i("option",{key:e.id,value:e.id,selected:t(o).permissions.includes(e.id)},c(e.name),9,K))),128))]),_:1},8,["modelValue","onGetValue"]),l.errors.permissions?(n(),i("span",Q,c(l.errors.permissions),1)):p("",!0)])]),s("div",W,[Y,d(t(U),{href:r.route("admin.user.index"),class:"btn btn-light"},{default:m(()=>[w("Back")]),_:1},8,["href"])])],32)])])])]),_:1})],64))}};export{le as default};
