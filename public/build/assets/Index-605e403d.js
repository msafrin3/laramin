import{c as d,a as l,u as e,w as c,b as t,d as g,e as y,v,F as p,h as L,o as u,X as k,i as w,t as m,g as r,O as T}from"./app-410e8898.js";import{_ as B}from"./AuthenticatedLayout-7ad1fa16.js";import x from"./ContentHeader-62e4186a.js";import M from"./Table-2adbaeb9.js";import{S}from"./sweetalert2.all-5f77ceb2.js";import{f as j}from"./index-a664f95c.js";import"./Pagination-bb14e405.js";import"./_plugin-vue_export-helper-c27b6911.js";const D=t("div",{class:"mb-3"},[t("button",{type:"button",class:"btn btn-success","data-bs-toggle":"modal","data-bs-target":"#modalGenerate"},[t("i",{class:"ri-add-circle-fill align-bottom me-1"}),r(" Jana Laporan ")])],-1),O={class:"card"},C=t("div",{class:"card-header"},[t("h3",{class:"card-title mb-0"},"Senarai Laporan Terkini Kejadian Bencana")],-1),V={class:"card-body"},G=t("tr",null,[t("th",null,"#"),t("th",null,"Tarikh Laporan"),t("th",null,"Dijana Oleh"),t("th",null,"Tindakan")],-1),J={class:"d-flex gap-2"},N=["href"],P=t("i",{class:"ri-eye-2-line align-bottom me-1"},null,-1),F=["href"],H=t("i",{class:"ri-download-2-line align-bottom me-1"},null,-1),I=t("button",{type:"button",class:"btn btn-danger btn-sm"},[t("i",{class:"ri-delete-bin-line align-bottom me-1"}),r(" Delete ")],-1),E={id:"modalGenerate",class:"modal fade",tabindex:"-1","aria-labelledby":"myModalLabel",style:{display:"none"},"aria-hidden":"true"},K={class:"modal-dialog"},U={class:"modal-content"},X=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"myModalLabel"},"Jana Laporan"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),q={class:"modal-body"},z={class:"form-group"},A=t("label",null,"Tarikh Laporan",-1),Q=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal"},"Batal"),t("button",{type:"submit",class:"btn btn-success"},"Jana")],-1),nt={__name:"Index",props:{filters:Object,reports:Object},setup(o){const _=L().appContext.config.globalProperties.$iterationPaginated,h=[{title:"Laporan & Statistik",active:!0},{title:"Laporan Terkini Bencana",active:!0}];let i={report_date:null},b=()=>{T.post(route("report.store"),i,{onSuccess:s=>{s.props.response.success&&(S.fire("Berjaya!",s.props.response.success,"success"),$("#modalGenerate").modal("toggle"))}})};return(s,n)=>(u(),d(p,null,[l(e(k),{title:"Laporan Terkini Bencana"}),l(B,null,{default:c(()=>[l(x,{title:"Laporan Terkini Bencana",breadcrumbs:h}),D,t("div",O,[C,t("div",V,[l(M,{"data-route":s.route("report.index"),filters:o.filters,data:o.reports},{thead:c(()=>[G]),default:c(()=>[t("tbody",null,[(u(!0),d(p,null,w(o.reports.data,(a,f)=>(u(),d("tr",null,[t("td",null,m(e(_)(o.reports,f)),1),t("td",null,m(e(j)(new Date(a.report_date),"yyyy-MM-dd HH:mm:ss")),1),t("td",null,m(a.created_by.name),1),t("td",null,[t("div",J,[t("a",{href:s.route("report.show",a),class:"btn btn-info btn-sm",target:"_blank"},[P,r(" Lihat ")],8,N),t("a",{href:s.route("report.show",{report:a,download:!0}),class:"btn btn-success btn-sm",target:"_blank"},[H,r(" Muat Turun ")],8,F),I])])]))),256))])]),_:1},8,["data-route","filters","data"])])])]),_:1}),t("div",E,[t("div",K,[t("div",U,[X,t("form",{onSubmit:n[1]||(n[1]=g((...a)=>e(b)&&e(b)(...a),["prevent"]))},[t("div",q,[t("div",z,[A,y(t("input",{type:"datetime-local",step:"any",class:"form-control","onUpdate:modelValue":n[0]||(n[0]=a=>e(i).report_date=a)},null,512),[[v,e(i).report_date]])])]),Q],32)])])])],64))}};export{nt as default};
