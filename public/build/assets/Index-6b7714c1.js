import{c as l,a as o,u as a,w as c,F as m,h as v,o as s,X as B,b as e,n as p,g as x,i as _,l as S,t as r,m as U,f as h,O as b}from"./app-f028f019.js";import{_ as M}from"./AuthenticatedLayout-e401d1a6.js";import N from"./ContentHeader-5afa99ad.js";import $ from"./Table-7a708dd1.js";import{S as f}from"./sweetalert2.all-7f06a01a.js";import{f as A}from"./index-a664f95c.js";import"./Pagination-caa6395a.js";import"./_plugin-vue_export-helper-c27b6911.js";const O={class:"mb-3"},P=e("i",{class:"ri-add-circle-fill align-bottom me-1"},null,-1),V={class:"card"},j=e("div",{class:"card-header"},[e("h3",{class:"card-title mb-0"},"List User")],-1),D={class:"card-body"},R=e("tr",null,[e("th",null,"#"),e("th",null,"Name"),e("th",null,"E-Mail"),e("th",null,"Roles"),e("th",null,"Permissions"),e("th",null,"Created At"),e("th",null,"Action")],-1),T={class:"d-flex flex-wrap gap-2"},E=e("i",{class:"ri-edit-2-line fs-17"},null,-1),F=["onClick"],H=e("i",{class:"ri-delete-bin-line fs-17"},null,-1),I=[H],L=["onClick"],z=e("i",{class:"ri-repeat-2-line fs-17"},null,-1),X=[z],te={__name:"Index",props:{users:Object,filters:Object},setup(d){const g=v().appContext.config.globalProperties.$iterationPaginated,C=[{title:"Administrator",active:!0},{title:"User Management",active:!0}];let k=n=>{f.fire({title:"Are you sure want to delete this user?",icon:"warning",showCancelButton:!0,confirmButtonText:"Delete",confirmButtonColor:"red"}).then(u=>{u.isConfirmed&&b.delete(route("admin.user.destroy",n),{onSuccess:t=>{t.props.response.success&&f.fire("Success!",t.props.response.success,"success")}})})},y=n=>{f.fire({title:"Restore User?",icon:"warning",showCancelButton:!0,confirmButtonText:"Restore",confirmButtonColor:"#0ab39c"}).then(u=>{u.isConfirmed&&b.post(route("admin.user.restore",n.id),{onSuccess:t=>{t.props.response.success&&f.fire("Success!",t.props.response.success,"success")}})})};return(n,u)=>(s(),l(m,null,[o(a(B),{title:"User Management"}),o(M,null,{default:c(()=>[o(N,{title:"User Management",breadcrumbs:C}),e("div",O,[o(a(p),{href:n.route("admin.user.create"),class:"btn btn-success"},{default:c(()=>[P,x(" Add New ")]),_:1},8,["href"])]),e("div",V,[j,e("div",D,[o($,{"data-route":n.route("admin.user.index"),filters:d.filters,data:d.users},{thead:c(()=>[R]),default:c(()=>[e("tbody",null,[(s(!0),l(m,null,_(d.users.data,(t,w)=>(s(),l("tr",{key:t.id,class:S({"table-danger":t.deleted_at!=null})},[e("td",null,r(a(g)(d.users,w)),1),e("td",null,r(t.name),1),e("td",null,r(t.email),1),e("td",null,[e("ul",null,[(s(!0),l(m,null,_(t.roles,i=>(s(),l("li",null,r(i.name),1))),256))])]),e("td",null,[e("ul",null,[(s(!0),l(m,null,_(t.permissions,i=>(s(),l("li",null,r(i.name),1))),256))])]),e("td",null,r(a(A)(new Date(t.created_at),"yyyy-MM-dd HH:mm:ss")),1),e("td",null,[e("div",T,[t.deleted_at==null?(s(),U(a(p),{key:0,href:n.route("admin.user.edit",t),class:"link-success"},{default:c(()=>[E]),_:2},1032,["href"])):h("",!0),t.deleted_at==null?(s(),l("a",{key:1,href:"#",class:"link-danger",onClick:i=>a(k)(t)},I,8,F)):h("",!0),t.deleted_at!=null?(s(),l("a",{key:2,href:"javascript:;",class:"link-success",onClick:i=>a(y)(t)},X,8,L)):h("",!0)])])],2))),128))])]),_:1},8,["data-route","filters","data"])])])]),_:1})],64))}};export{te as default};
