import{c as l,a as i,u as r,w as o,F as h,h as k,o as s,X as y,n as f,g as c,f as u,b as e,i as B,t as n,l as C,O as $}from"./app-a78d849f.js";import{_ as v}from"./AuthenticatedLayout-c9c7c268.js";import N from"./ContentHeader-777d0e8b.js";import S from"./Table-09aed583.js";import{S as p}from"./sweetalert2.all-3a9002d3.js";import"./Pagination-8908ddef.js";import"./_plugin-vue_export-helper-c27b6911.js";const w={key:0,class:"mb-3"},x=e("i",{class:"ri-add-circle-fill align-bottom me-1"},null,-1),O={class:"card"},V=e("div",{class:"card-header"},[e("h3",{class:"card-title mb-0"},"Senarai Pusat Pemindahan Berdaftar")],-1),j={class:"card-body"},D=e("tr",null,[e("th",null,"#"),e("th",null,"Nama PPS"),e("th",null,"Negeri"),e("th",null,"Daerah"),e("th",null,"Mukim"),e("th",null,"Jenis"),e("th",null,"Action")],-1),A={class:"d-flex gap-2"},E=e("i",{class:"ri-edit-2-fill align-bottom me-1"},null,-1),F=["onClick"],I=e("i",{class:"ri-delete-bin-fill align-bottom me-1"},null,-1),H={__name:"Index",props:{filters:Object,shelters:Object},setup(d){const _=k().appContext.config.globalProperties.$iterationPaginated,b=[{title:"Pusat Pemindahan",active:!1,link:route("shelter.index")}];let g=a=>{p.fire({title:"Padam maklumat Pusat Pemindahan?",html:"",showCancelButton:!0,confirmButtonText:"Padam",confirmButtonColor:"Red"}).then(m=>{m.isConfirmed&&$.delete(route("shelter.destroy",a),{onSuccess:t=>{t.props.response.success&&p.fire("Berjaya!",t.props.response.success,"success")}})})};return(a,m)=>(s(),l(h,null,[i(r(y),{title:"Pusat Pemindanan"}),i(v,null,{default:o(()=>[i(N,{title:"Pusat Pemindahan",breadcrumbs:b}),a.$page.props.auth.user.can.includes("create-pps")?(s(),l("div",w,[i(r(f),{href:a.route("shelter.create"),class:"btn btn-success"},{default:o(()=>[x,c(" Add New ")]),_:1},8,["href"])])):u("",!0),e("div",O,[V,e("div",j,[i(S,{"data-route":a.route("shelter.index"),filters:d.filters,data:d.shelters},{thead:o(()=>[D]),default:o(()=>[e("tbody",null,[(s(!0),l(h,null,B(d.shelters.data,(t,P)=>(s(),l("tr",{key:t.id},[e("td",null,n(r(_)(d.shelters,P)),1),e("td",null,n(t.name),1),e("td",null,n(t.state.name),1),e("td",null,n(t.district.name),1),e("td",null,n(t.parish_id==null?"-":t.parish.name),1),e("td",null,n(t.shelter_type.name),1),e("td",null,[e("div",A,[a.$page.props.auth.user.can.includes("edit-pps")?(s(),C(r(f),{key:0,href:a.route("shelter.edit",t),class:"btn btn-info btn-sm"},{default:o(()=>[E,c(" Edit ")]),_:2},1032,["href"])):u("",!0),a.$page.props.auth.user.can.includes("delete-pps")?(s(),l("button",{key:1,type:"button",class:"btn btn-danger btn-sm",onClick:J=>r(g)(t)},[I,c(" Delete ")],8,F)):u("",!0)])])]))),128))])]),_:1},8,["data-route","filters","data"])])])]),_:1})],64))}};export{H as default};
